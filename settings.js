(()=>{"use strict";var e={1167:(e,n)=>{var t;Object.defineProperty(n,"__esModule",{value:!0}),n.RankedVotingMethod=void 0,(t=n.RankedVotingMethod||(n.RankedVotingMethod={}))[t.Borda=0]="Borda",t[t.Copeland=1]="Copeland"},1453:function(e,n,t){var o=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function d(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(r,d)}u((o=o.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0}),n.updateSettings=n.getSettings=n.defaultSettings=void 0;const i=t(1167);n.defaultSettings={maxVotes:3,useRankedVoting:!1,rankedVotingAlgorithm:i.RankedVotingMethod.Copeland,enableViewOfRankings:!1},n.getSettings=function(e){return o(this,void 0,void 0,(function*(){let t=yield e.get("board","shared","settings",n.defaultSettings);return t.enableViewOfRankings||(t.enableViewOfRankings=!1),t}))},n.updateSettings=function(e,n){e.set("board","shared","settings",n)}},4310:function(e,n,t){var o=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function d(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(r,d)}u((o=o.apply(e,n||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=t(1167),a=t(1453),r=window.TrelloPowerUp.iframe(),d=$("#maxVotes"),u=$("#useRankedVoting"),s=$("#algorithm"),c=$("#enableViewResults");let g=a.defaultSettings;d.on("change",(function(){return g.maxVotes=$(this).prop("value"),(0,a.updateSettings)(r,g)})),u.on("change",(function(){return g.useRankedVoting=$(this).prop("checked"),(0,a.updateSettings)(r,g)})),c.on("change",(function(){return g.enableViewOfRankings=$(this).prop("checked"),(0,a.updateSettings)(r,g)})),s.on("change",(function(){const e=$(this).prop("value");return"Borda"===e?(g.rankedVotingAlgorithm=i.RankedVotingMethod.Borda,(0,a.updateSettings)(r,g)):"Copeland"===e?(g.rankedVotingAlgorithm=i.RankedVotingMethod.Copeland,(0,a.updateSettings)(r,g)):void 0})),r.render((function(){!function(e){o(this,void 0,void 0,(function*(){var n=yield(0,a.getSettings)(e);n.useRankedVoting||(n.useRankedVoting=!1),d.prop("value",n.maxVotes),u.prop("checked",n.useRankedVoting),c.prop("checked",n.enableViewOfRankings),n.rankedVotingAlgorithm==i.RankedVotingMethod.Borda&&s.prop("value","Borda"),n.rankedVotingAlgorithm==i.RankedVotingMethod.Copeland&&s.prop("value","Copeland"),n.useRankedVoting&&s.show(),g=n}))}(r)}))}},n={};!function t(o){var i=n[o];if(void 0!==i)return i.exports;var a=n[o]={exports:{}};return e[o].call(a.exports,a,a.exports,t),a.exports}(4310)})();