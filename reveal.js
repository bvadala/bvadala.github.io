(()=>{"use strict";function n(n,t){return n.get(t||"card","shared","votes",[])}const t=window.TrelloPowerUp.iframe();function e(t){return e=this,o=void 0,r=function*(){const e=yield function(t){return e=this,o=void 0,r=function*(){console.log("getting list");const e=yield t.list("id","cards");var o=[];console.log("iterating cards");for(const i of e.cards)o.push({id:i.id,title:i.name,votes:(yield n(t,i.id)).length});return console.log(JSON.stringify(o)),console.log("sorting cards"),o.sort(((n,t)=>n.votes>t.votes?-1:1))},new((i=void 0)||(i=Promise))((function(n,t){function c(n){try{a(r.next(n))}catch(n){t(n)}}function s(n){try{a(r.throw(n))}catch(n){t(n)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(n){n(e)}))).then(c,s)}a((r=r.apply(e,o||[])).next())}));var e,o,i,r}(t),o=$("#firstPlaceName"),i=$("#secondPlaceName"),r=$("#thirdPlaceName");o.prop("innerHTML",e[0].title),i.prop("innerHTML",e[1].title),r.prop("innerHTML",e[1].title)},new((i=void 0)||(i=Promise))((function(n,t){function c(n){try{a(r.next(n))}catch(n){t(n)}}function s(n){try{a(r.throw(n))}catch(n){t(n)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(n){n(e)}))).then(c,s)}a((r=r.apply(e,o||[])).next())}));var e,o,i,r}t.render((function(){e(t)}))})();