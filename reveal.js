(()=>{"use strict";function e(e,t){return e.get(t||"card","shared","votes",[])}const t=window.TrelloPowerUp.iframe();function n(t){return n=this,o=void 0,r=function*(){const n=yield function(t,n){return o=this,i=void 0,c=function*(){if(!n){const e=yield t.list("id","cards");n=e.cards}var o=[];for(const i of n)o.push({id:i.id,title:i.name,votes:(yield e(t,i.id)).length});return o.sort(((e,t)=>e.votes>t.votes?-1:1))},new((r=void 0)||(r=Promise))((function(e,t){function n(e){try{l(c.next(e))}catch(e){t(e)}}function a(e){try{l(c.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(n,a)}l((c=c.apply(o,i||[])).next())}));var o,i,r,c}(t),o=$("#firstPlaceName"),i=$("#secondPlaceName"),r=$("#thirdPlaceName");o.prop("innerHTML",n[0].title),i.prop("innerHTML",n[1].title),r.prop("innerHTML",n[2].title);let c=document.querySelector("#results"),a=1;for(let e of n){let t=c.insertRow();t.insertCell().appendChild(document.createTextNode(a.toString())),a++,t.insertCell().appendChild(document.createTextNode(e.title)),t.insertCell().appendChild(document.createTextNode(e.votes.toString()))}},new((i=void 0)||(i=Promise))((function(e,t){function c(e){try{l(r.next(e))}catch(e){t(e)}}function a(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(c,a)}l((r=r.apply(n,o||[])).next())}));var n,o,i,r}t.render((function(){n(t)}))})();